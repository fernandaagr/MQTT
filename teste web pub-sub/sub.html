<!DOCTYPE html>
<html>
<head lang="pt-br">
	<meta charset="utf-8">
	<title>Teste Subscribe</title>
</head>
<body>
	<h2>Teste Subscribe via Web</h2>
	<form name="from_sub">
		<fieldset>
		<legend>Subscribe: </legend>
			Tópico:
			<select name="topicos" id="topicos">
				<option value="teste">teste</option>
				<option value="mensagem">mensagem</option>
				<option value="3">Tópico 03</option>
				<option value="4">Tópico 04</option>
			</select>
			<input type="button" name="sub" id="sub" value="Subscribe">
		</fieldset>
	</form>	
	<script src="..\classes\mqttws31.js"></script>
	<script src="..\classes\clientMQTT.js"></script>
	<script type="text/javascript">	
		//inicia a conexão do cliente
		init();

		//função subscribe
		function sub(){
			//pega o valor do elemento selecionado na tag select
			var select = document.getElementById('topicos');
			var topico = select.options[select.selectedIndex].value;

			//cliente faz o subscribe no tópico
			client.subscribe(topico);
		}
		var btnSub = document.getElementById("sub");
		//adiciona o evento click no botão 
		btnSub.addEventListener("click", sub);

	</script>

</body>
</html>